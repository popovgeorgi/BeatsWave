@{
    ViewData["Title"] = "Upload";
}
@model BeatInputModel


<div class="form pagination justify-content-center" style="background-image: url('@Url.Content("~/images/metro.jpg")');">
    <form id="uploadForm" method="post" enctype="multipart/form-data" asp-area="Producing" asp-controller="Beatmakers" asp-action="Upload">

        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="col-sm-12 form-group">
            <label asp-for="Name"></label>
            <input asp-for="Name" placeholder="Name" class="form-control">
            <span asp-validation-for="Name"></span>
        </div>

        <div class="form-group">
            <label asp-for="Image"></label>
            <input asp-for="Image" type="file" name="image">
            <span asp-validation-for="Image"></span>
        </div>

        <div class="col-sm-12 form-group">
            <label asp-for="StandartPrice"></label>
            <input asp-for="StandartPrice" placeholder="Price" class="form-control">
            <span asp-validation-for="StandartPrice"></span>
        </div>

        <div class="form-group">
            <label asp-for="BeatWav"></label>
            <input id="cloudinary-fileupload" asp-for="BeatWav" type="file" name="beatWav">
        </div>

        <div class="col-sm-6 form-group">
            <label asp-for="Bpm"></label>
            <input asp-for="Bpm" placeholder="Bpm" class="form-control">
            <span asp-validation-for="Bpm"></span>
        </div>

        <div class="col-sm-12 form-group">
            <label asp-for="Genre"></label>
            <select asp-for="Genre" class="form-control" asp-items="@Html.GetEnumSelectList<Genre>()"></select>
            <span asp-validation-for="Genre"></span>
        </div>

        <div class="col-sm-12form-group">
            <label asp-for="Description"></label>
            <textarea asp-for="Description" class="form-control" rows="3" placeholder="Description"></textarea>
            <span asp-validation-for="Description"></span>
        </div>

        <hr />

        <input type="submit" value="Upload" class="btn btn-primary" />

        <div class="progress-bar">
            <div id="progressBar" class="progress-bar-fill">
                <span id="progressBar" class="progress-bar-text">0%</span>
            </div>
        </div>
    </form>
</div>

<script>
    $('.cloudinary-fileupload').bind('fileuploadprogress', function (e, data) {
        $('.progress_bar').css('width', Math.round((data.loaded * 100.0) / data.total) + '%');
    });
</script>

@section Profile
{

    <li class="nav-item">
        <a class="btn btn-outline-white ml-2" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">
            <i class="fas fa-address-card"></i>  Profile
        </a>
    </li>
}